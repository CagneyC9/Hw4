{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nconst useFetch = url => {\n  _s();\n  // const[ books, setBooks ] = useState( null );\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  useEffect(() => {\n    console.log(\"URL->\" + url);\n    const abortContr = new AbortController();\n    fetch(url, {\n      signal: abortContr.signal\n    }).then(resp => {\n      // console.log( `resp->`); console.log( resp );\n      if (!resp.ok) {\n        throw Error(\"Cannot fetch URL data for resource\");\n      }\n      return resp.json();\n    }).then(data => {\n      setIsPending(false);\n      console.log(\"data=>\");\n      console.log(data);\n      setData(data);\n      setError(null);\n    }).catch(err => {\n      if (err.name == 'AbortError') {\n        console.log(\"Fetch Aborted->\");\n        console.log(err.message);\n      } else {\n        console.log(\"Error:\");\n        console.log(err.message);\n        setIsPending(false);\n        setError(err.message);\n      }\n    });\n    return () => {\n      console.log(\"Clean up\");\n      // Want to stop the fetch\n      abortContr.abort();\n    };\n  }, [url]); // Whenever URL changes rerun\n  return {\n    data,\n    isPending,\n    error\n  };\n};\n_s(useFetch, \"jj4OMFIbbdeorStuMT0+z/S59Zg=\");\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","useFetch","url","_s","data","setData","error","setError","isPending","setIsPending","console","log","abortContr","AbortController","fetch","signal","then","resp","ok","Error","json","catch","err","name","message","abort"],"sources":["C:/Users/cagne/Documents/AUF23/CSC 3700/Week13/final-hw/src/Components/useFetch.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\n\r\nconst useFetch = ( url ) => {\r\n    // const[ books, setBooks ] = useState( null );\r\n    const[ data, setData ] = useState( null );\r\n    const [error, setError ] = useState(  null );\r\n    const [ isPending, setIsPending] = useState(true);\r\n\r\n    useEffect( () => {\r\n        console.log(\"URL->\" + url );\r\n        const abortContr = new AbortController();\r\n        fetch( url, { signal : abortContr.signal })\r\n            .then(resp => {\r\n                // console.log( `resp->`); console.log( resp );\r\n                if ( !resp.ok){\r\n                    throw Error(\"Cannot fetch URL data for resource\")\r\n                }\r\n                return resp.json()\r\n            }).\r\n        then(data => {\r\n            setIsPending( false );\r\n            console.log( \"data=>\")\r\n            console.log( data );\r\n            setData( data );\r\n            setError ( null );\r\n        }).catch( (err) => {\r\n            if ( err.name == 'AbortError'){\r\n                console.log( \"Fetch Aborted->\")\r\n                console.log( err.message );\r\n            } else {\r\n                console.log(\"Error:\");\r\n                console.log(err.message);\r\n                setIsPending(false);\r\n                setError(err.message);\r\n            }\r\n        })\r\n        return () => {\r\n            console.log( \"Clean up\");\r\n            // Want to stop the fetch\r\n            abortContr.abort();\r\n\r\n        }\r\n    }, [ url ] ); // Whenever URL changes rerun\r\n    return { data, isPending, error}\r\n}\r\nexport default useFetch;"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAEzC,MAAMC,QAAQ,GAAKC,GAAG,IAAM;EAAAC,EAAA;EACxB;EACA,MAAK,CAAEC,IAAI,EAAEC,OAAO,CAAE,GAAGL,QAAQ,CAAE,IAAK,CAAC;EACzC,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAE,GAAGP,QAAQ,CAAG,IAAK,CAAC;EAC5C,MAAM,CAAEQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAEjDD,SAAS,CAAE,MAAM;IACbW,OAAO,CAACC,GAAG,CAAC,OAAO,GAAGT,GAAI,CAAC;IAC3B,MAAMU,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxCC,KAAK,CAAEZ,GAAG,EAAE;MAAEa,MAAM,EAAGH,UAAU,CAACG;IAAO,CAAC,CAAC,CACtCC,IAAI,CAACC,IAAI,IAAI;MACV;MACA,IAAK,CAACA,IAAI,CAACC,EAAE,EAAC;QACV,MAAMC,KAAK,CAAC,oCAAoC,CAAC;MACrD;MACA,OAAOF,IAAI,CAACG,IAAI,CAAC,CAAC;IACtB,CAAC,CAAC,CACNJ,IAAI,CAACZ,IAAI,IAAI;MACTK,YAAY,CAAE,KAAM,CAAC;MACrBC,OAAO,CAACC,GAAG,CAAE,QAAQ,CAAC;MACtBD,OAAO,CAACC,GAAG,CAAEP,IAAK,CAAC;MACnBC,OAAO,CAAED,IAAK,CAAC;MACfG,QAAQ,CAAG,IAAK,CAAC;IACrB,CAAC,CAAC,CAACc,KAAK,CAAGC,GAAG,IAAK;MACf,IAAKA,GAAG,CAACC,IAAI,IAAI,YAAY,EAAC;QAC1Bb,OAAO,CAACC,GAAG,CAAE,iBAAiB,CAAC;QAC/BD,OAAO,CAACC,GAAG,CAAEW,GAAG,CAACE,OAAQ,CAAC;MAC9B,CAAC,MAAM;QACHd,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;QACrBD,OAAO,CAACC,GAAG,CAACW,GAAG,CAACE,OAAO,CAAC;QACxBf,YAAY,CAAC,KAAK,CAAC;QACnBF,QAAQ,CAACe,GAAG,CAACE,OAAO,CAAC;MACzB;IACJ,CAAC,CAAC;IACF,OAAO,MAAM;MACTd,OAAO,CAACC,GAAG,CAAE,UAAU,CAAC;MACxB;MACAC,UAAU,CAACa,KAAK,CAAC,CAAC;IAEtB,CAAC;EACL,CAAC,EAAE,CAAEvB,GAAG,CAAG,CAAC,CAAC,CAAC;EACd,OAAO;IAAEE,IAAI;IAAEI,SAAS;IAAEF;EAAK,CAAC;AACpC,CAAC;AAAAH,EAAA,CA1CKF,QAAQ;AA2Cd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}